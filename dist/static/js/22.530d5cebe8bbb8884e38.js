webpackJsonp([22],{Twvm:function(t,e){},vzoy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={mixins:[a("msXN").a],data:function(){return{yyArray:[],filters:{name:""},listLoading:!1,usersList:[],user:null}},methods:{handleSearch:function(){this.getyyList(1,this.page.size)},handlePageCurrentChange:function(t){this.page.current=t,this.getyyList(this.page.current,this.page.size)},getyyList:function(t,e){var a=this,i=this;i.$http.get("/api/hospital/getHospitalList?name="+this.filters.name+"&pageNum="+t+"&pageSize="+e).then(function(t){console.log(t.data,"获取医院列表"),i.yyArray=t.data.list,a.page.total=t.data.total}).catch(function(t){console.log(t)})},handleAdd:function(){this.$router.push("/addHospital")},handleEdit:function(t,e){this.$router.push("/addHospital?id="+e.id)},delDepartment:function(t,e){var a=this,i=this;this.$confirm("此操作将删除该医院, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){i.$http.post("/api/hospital/deleteHospital",{id:e.id}).then(function(t){t.data?(i.$message.success("删除医院成功"),i.getyyList(1,a.page.size),i.addFormVisible=!1):(i.$message.error("删除医院失败"),i.addFormVisible=!1)}).catch(function(t){console.log(t)})}).catch(function(){})}},created:function(){this.getyyList(1,this.page.size)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"table_container"},[a("el-col",{staticClass:"toolbar toolbar_title",attrs:{span:24}},[a("h3",[t._v("医院管理")]),t._v(" "),a("el-form",{staticClass:"toolbar_form",attrs:{inline:!0,model:t.filters}},[a("el-form-item",{staticClass:"f-left search_input"},[a("el-input",{attrs:{placeholder:"医院名"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}},[a("template",{attrs:{icon:"el-icon-search"},slot:"append"},[a("el-button",{staticStyle:{"background-color":"#52d7ac","border-radius":"0",color:"#fff",border:"1px solid #52d7ac"},attrs:{type:"primary"},on:{click:function(e){return t.getyyList(1,t.page.size)}}},[a("i",{staticClass:"el-icon-search",staticStyle:{"margin-right":"5px"}}),t._v("搜索")])],1)],2)],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"background-color":"#52d7ac",border:"0","font-size":"14px"},attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增医院")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"background-color":"#52d7ac",border:"0","font-size":"14px"},attrs:{type:"primary"}},[t._v("导出")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.yyArray,border:!0,stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":!0,align:"center",label:"医院名称",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address","show-overflow-tooltip":!0,align:"center",label:"医院地址",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"telephone",align:"center",label:"医院电话",width:"130",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"buildTime",align:"center",label:"成立时间",width:"110",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"grade",align:"center",label:"等级",width:"120",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"#f8b14b"},attrs:{round:"",type:"text"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v("修改医院")]),t._v(" "),a("el-button",{staticStyle:{color:"#e15939"},attrs:{round:"",type:"text"},on:{click:function(a){return t.delDepartment(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除医院")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.page.current,"page-sizes":t.page.sizes,"page-size":t.page.size,layout:t.page.layout,total:t.page.total},on:{"size-change":t.handlePageSizeChange,"current-change":t.handlePageCurrentChange}})],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("Twvm")},"data-v-46b1116e",null);e.default=l.exports}});