webpackJsonp([20],{A9Eb:function(t,e){},ao4a:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={mixins:[a("msXN").a],data:function(){return{filters:{title:""},listLoading:!1,ggArray:[]}},methods:{handleSearch:function(){this.getyyList(1,this.page.size)},handlePageCurrentChange:function(t){this.page.current=t,this.getyyList(this.page.current,this.page.size)},getyyList:function(t,e){var a=this;this.$http.get("/api/notice/noticeTaskList?title="+this.filters.title+"&pageNum="+t+"&pageSize="+e).then(function(t){console.log(t.data),a.ggArray=t.data.list,a.page.total=t.data.total}).catch(function(t){console.log(t)})},delDepartment:function(t,e){var a=this;this.$confirm("此操作将删除该公告, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){a.$http.post("/api/notice/delNoticeTask",{noticeTaskId:e.noticeTaskId}).then(function(t){t.data?(a.$message.success("删除公告成功"),a.getyyList(1,a.page.size)):a.$message.error("删除公告失败")}).catch(function(t){console.log(t)})}).catch(function(){})},handleAdd:function(){this.$router.push("/addNotice")},handleEdit:function(t,e){this.$router.push("/addNotice?id="+e.noticeTaskId)}},mounted:function(){this.getyyList(1,this.page.size)},created:function(){}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"table_container"},[a("el-col",{staticClass:"toolbar toolbar_title",attrs:{span:24}},[a("h3",[t._v("公告管理")]),t._v(" "),a("el-form",{staticClass:"toolbar_form",attrs:{inline:!0,model:t.filters}},[a("el-form-item",{staticClass:"f-left search_input"},[a("el-input",{attrs:{placeholder:"公告标题"},model:{value:t.filters.title,callback:function(e){t.$set(t.filters,"title",e)},expression:"filters.title"}},[a("template",{attrs:{icon:"el-icon-search"},slot:"append"},[a("el-button",{staticStyle:{"background-color":"#52d7ac","border-radius":"0",color:"#fff",border:"1px solid #52d7ac"},attrs:{type:"primary"},on:{click:function(e){return t.getyyList(1,t.page.size)}}},[a("i",{staticClass:"el-icon-search",staticStyle:{"margin-right":"5px"}}),t._v("搜索")])],1)],2)],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"background-color":"#52d7ac",border:"0","font-size":"14px"},attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增公告")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.ggArray,border:!0,stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":!0,align:"center",label:"公告标题",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"content","show-overflow-tooltip":!0,align:"center",label:"公告内容",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"pushTime",align:"center",label:"发送时间",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"#f8b14b"},attrs:{round:"",type:"text"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v("修改公告")]),t._v(" "),a("el-button",{staticStyle:{color:"#e15939"},attrs:{round:"",type:"text"},on:{click:function(a){return t.delDepartment(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除公告")])]}}])})],1),t._v(" "),t.ggArray.length>10?a("el-col",{staticClass:"toolbar toolbar_page",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-pagination",{attrs:{"current-page":t.page.current,"page-sizes":t.page.sizes,"page-size":t.page.size,layout:t.page.layout,total:t.page.total},on:{"size-change":t.handlePageSizeChange,"current-change":t.handlePageCurrentChange}})],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("A9Eb")},"data-v-55f88f3e",null);e.default=o.exports}});